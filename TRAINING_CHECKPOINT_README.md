# AGIè®­ç»ƒæ–­ç‚¹ç»­è¿ç³»ç»Ÿ

## æ¦‚è¿°

æœ¬ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„è®­ç»ƒæ–­ç‚¹ç»­è¿åŠŸèƒ½ï¼Œç¡®ä¿è®­ç»ƒè¿›åº¦ä¸ä¼šå› ä¸ºç¨‹åºä¸­æ–­ã€ç³»ç»Ÿé‡å¯æˆ–å…¶ä»–æ„å¤–æƒ…å†µè€Œä¸¢å¤±ã€‚

## æ ¸å¿ƒç‰¹æ€§

### ğŸ”„ è‡ªåŠ¨æ–­ç‚¹ç»­è¿
- **è‡ªåŠ¨ä¿å­˜**: æ¯50æ­¥è‡ªåŠ¨ä¿å­˜è®­ç»ƒçŠ¶æ€
- **ä¸­æ–­ä¿æŠ¤**: ç¨‹åºè¢«ä¸­æ–­æ—¶è‡ªåŠ¨ä¿å­˜æ–­ç‚¹
- **å¯åŠ¨æ¢å¤**: é‡æ–°å¯åŠ¨æ—¶è‡ªåŠ¨ä»æ–­ç‚¹ç»§ç»­è®­ç»ƒ

### ğŸ›¡ï¸ æ•°æ®å®Œæ•´æ€§ä¿æŠ¤
- **åŸå­æ€§å†™å…¥**: ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶ç¡®ä¿æ–­ç‚¹æ–‡ä»¶å®Œæ•´æ€§
- **æ ¡éªŒéªŒè¯**: å¯åŠ¨æ—¶éªŒè¯æ–­ç‚¹æ–‡ä»¶å®Œæ•´æ€§
- **å¤‡ä»½æœºåˆ¶**: æ”¯æŒå¤šç‰ˆæœ¬æ–­ç‚¹å¤‡ä»½

### ğŸ“Š çŠ¶æ€ç›‘æ§
- **å®æ—¶çŠ¶æ€**: è®­ç»ƒæ­¥éª¤ã€æŸå¤±å€¼ã€æ ·æœ¬æ•°ç­‰
- **ç³»ç»Ÿèµ„æº**: CPUã€å†…å­˜ä½¿ç”¨æƒ…å†µç›‘æ§
- **è®­ç»ƒç»Ÿè®¡**: æ—¶é•¿ã€èŠ‚æµæ¬¡æ•°ç­‰ä¿¡æ¯

## æ–‡ä»¶ç»“æ„

```
training_checkpoint.json          # å½“å‰æ–­ç‚¹æ–‡ä»¶
training_checkpoints/             # æ–­ç‚¹å¤‡ä»½ç›®å½•
    training_checkpoint_20240125_143000.json
    training_checkpoint_manual_backup.json
agi_unified_status.json           # å®æ—¶çŠ¶æ€æ–‡ä»¶
memory_safe_training.log          # è®­ç»ƒæ—¥å¿—
```

## ä½¿ç”¨æ–¹æ³•

### 1. å¯åŠ¨è®­ç»ƒ
```bash
cd /Users/imymm/H2Q-Evo
nohup python3 memory_safe_training_launcher.py > memory_safe_training.log 2>&1 &
```

### 2. ç›‘æ§è®­ç»ƒçŠ¶æ€
```bash
# å¯åŠ¨ç›‘æ§ç•Œé¢
python3 agi_monitor.py

# æˆ–æŸ¥çœ‹å®æ—¶çŠ¶æ€
tail -f memory_safe_training.log
```

### 3. æ–­ç‚¹ç®¡ç†

#### æŸ¥çœ‹æ–­ç‚¹ä¿¡æ¯
```bash
# æŸ¥çœ‹å½“å‰æ–­ç‚¹
python3 checkpoint_manager.py info

# æŸ¥çœ‹æ‰€æœ‰æ–­ç‚¹
python3 checkpoint_manager.py list
```

#### å¤‡ä»½æ–­ç‚¹
```bash
# è‡ªåŠ¨å‘½åå¤‡ä»½
python3 checkpoint_manager.py backup

# è‡ªå®šä¹‰åç§°å¤‡ä»½
python3 checkpoint_manager.py backup my_backup
```

#### æ¢å¤æ–­ç‚¹
```bash
# ä»å¤‡ä»½æ¢å¤
python3 checkpoint_manager.py restore training_checkpoints/training_checkpoint_20240125_143000.json
```

#### æ¸…ç†æ—§æ–­ç‚¹
```bash
# ä¿ç•™æœ€è¿‘5ä¸ªæ–­ç‚¹
python3 checkpoint_manager.py clean

# ä¿ç•™æŒ‡å®šæ•°é‡
python3 checkpoint_manager.py clean 3
```

### 4. æ–­ç‚¹ç»­è¿æµ‹è¯•
```bash
# æµ‹è¯•æ–­ç‚¹ç»­è¿åŠŸèƒ½
python3 test_checkpoint_continuity.py
```

## æ–­ç‚¹æ–‡ä»¶æ ¼å¼

```json
{
  "current_step": 150,
  "best_loss": 1.234567,
  "total_samples": 4800,
  "throttle_count": 2,
  "start_time": "2024-01-25T14:30:00.123456",
  "last_save_time": "2024-01-25T14:35:00.654321",
  "training_duration": "0:05:00.530865"
}
```

## æ•…éšœæ’é™¤

### æ–­ç‚¹æ–‡ä»¶æŸå
```bash
# åˆ é™¤æŸåçš„æ–­ç‚¹æ–‡ä»¶
rm training_checkpoint.json

# ä»å¤‡ä»½æ¢å¤
python3 checkpoint_manager.py restore <backup_file>
```

### è®­ç»ƒè¿›ç¨‹å¼‚å¸¸é€€å‡º
1. æ£€æŸ¥æ—¥å¿—æ–‡ä»¶ï¼š`tail -f memory_safe_training.log`
2. æŸ¥çœ‹ç³»ç»Ÿèµ„æºï¼š`top` æˆ– `htop`
3. é‡æ–°å¯åŠ¨è®­ç»ƒï¼ˆä¼šè‡ªåŠ¨ä»æ–­ç‚¹ç»­è¿ï¼‰

### æ–­ç‚¹åŠ è½½å¤±è´¥
1. éªŒè¯æ–­ç‚¹æ–‡ä»¶å®Œæ•´æ€§ï¼š`python3 checkpoint_manager.py info`
2. æ£€æŸ¥æ–‡ä»¶æƒé™ï¼š`ls -la training_checkpoint.json`
3. ä»å¤‡ä»½æ¢å¤ï¼š`python3 checkpoint_manager.py restore <backup>`

## æ€§èƒ½ä¼˜åŒ–

### å†…å­˜ç®¡ç†
- è‡ªåŠ¨åƒåœ¾å›æ”¶ï¼ˆæ¯10æ­¥ï¼‰
- PyTorchç¼“å­˜æ¸…ç†
- å†…å­˜ä½¿ç”¨ç‡é™åˆ¶ï¼ˆ3GBï¼‰

### CPUç®¡ç†
- CPUä½¿ç”¨ç‡ç›‘æ§ï¼ˆ80%é™åˆ¶ï¼‰
- è‡ªåŠ¨èŠ‚æµä¿æŠ¤
- èµ„æºé‡Šæ”¾ç­‰å¾…

### å­˜å‚¨ä¼˜åŒ–
- å®šæœŸæ¸…ç†æ—§æ–­ç‚¹
- å‹ç¼©å¤‡ä»½æ–‡ä»¶
- ç£ç›˜ç©ºé—´ç›‘æ§

## ç›‘æ§æŒ‡æ ‡

### è®­ç»ƒæŒ‡æ ‡
- å½“å‰è®­ç»ƒæ­¥éª¤
- æœ€ä½³æŸå¤±å€¼
- æ€»æ ·æœ¬å¤„ç†æ•°
- è®­ç»ƒæ—¶é•¿

### ç³»ç»ŸæŒ‡æ ‡
- CPUä½¿ç”¨ç‡
- å†…å­˜ä½¿ç”¨ç‡
- ç£ç›˜ä½¿ç”¨ç‡
- ç½‘ç»œè¿æ¥çŠ¶æ€

### å®‰å…¨æŒ‡æ ‡
- èŠ‚æµäº‹ä»¶æ¬¡æ•°
- å†…å­˜æ¸…ç†æ¬¡æ•°
- æ–­ç‚¹ä¿å­˜æ¬¡æ•°

## æœ€ä½³å®è·µ

1. **å®šæœŸå¤‡ä»½**: åœ¨é‡è¦è®­ç»ƒé˜¶æ®µæ‰‹åŠ¨å¤‡ä»½æ–­ç‚¹
2. **ç›‘æ§èµ„æº**: å®šæœŸæ£€æŸ¥ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ
3. **æ—¥å¿—åˆ†æ**: å®šæœŸæŸ¥çœ‹è®­ç»ƒæ—¥å¿—äº†è§£è®­ç»ƒçŠ¶æ€
4. **æ–­ç‚¹æ¸…ç†**: å®šæœŸæ¸…ç†ä¸éœ€è¦çš„æ—§æ–­ç‚¹æ–‡ä»¶

## æŠ€æœ¯å®ç°

- **æ–­ç‚¹ä¿å­˜**: JSONæ ¼å¼ï¼ŒåŸå­æ€§å†™å…¥
- **çŠ¶æ€åŒæ­¥**: å®æ—¶æ›´æ–°ç›‘æ§çŠ¶æ€æ–‡ä»¶
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œæ¢å¤æœºåˆ¶
- **èµ„æºç›‘æ§**: åŸºäºpsutilçš„ç³»ç»Ÿèµ„æºç›‘æ§

## ç‰ˆæœ¬å†å²

- v1.0: åŸºç¡€æ–­ç‚¹ç»­è¿åŠŸèƒ½
- v1.1: æ·»åŠ å¤‡ä»½ç®¡ç†åŠŸèƒ½
- v1.2: å¢åŠ èµ„æºç›‘æ§å’Œè‡ªåŠ¨èŠ‚æµ
- v1.3: æ·»åŠ åŸå­æ€§å†™å…¥å’Œå®Œæ•´æ€§éªŒè¯