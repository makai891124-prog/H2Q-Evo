{
  "timestamp": 1769073059.8733819,
  "response": "[\n  {\n    \"file_path\": \"h2q_project/integrations/github_integration.py\",\n    \"content\": \"import os\\nimport logging\\nfrom github import Github\\nfrom github.GithubException import UnknownObjectException\\n\\nlogger = logging.getLogger(__name__)\\n\\nclass GithubIntegration:\\n    def __init__(self, repo_name, github_token=None):\\n        self.repo_name = repo_name\\n        self.github_token = github_token or os.environ.get(\\\"GITHUB_TOKEN\\\")\\n        self.g = Github(self.github_token)\\n        self.repo = self.g.get_repo(self.repo_name)\\n\\n    def get_file_content(self, file_path, max_lines=1000): # Added max_lines to avoid excessive token usage\\n        try:\\n            file_content = self.repo.get_contents(file_path)\\n            decoded_content = file_content.decoded_content.decode()\\n            lines = decoded_content.splitlines()\\n            if len(lines) > max_lines:\\n                return \\\"\\\".join(lines[:max_lines]) + \\\"\\\\n... (truncated due to length)\\\"\\n            return decoded_content\\n        except UnknownObjectException:\\n            logger.warning(f\\\"File not found: {file_path}\\\")\\n            return None\\n        except Exception as e:\\n            logger.error(f\\\"Error getting file content for {file_path}: {e}\\\")\\n            return None\\n\\n    def get_project_context(self, max_files=10, max_lines_per_file=500): #Added limits to reduce token usage.\\n        context = {}\\n        contents = self.repo.get_contents(\\\"\\\")\\n        files_read = 0\\n        for content in contents:\\n            if content.type == \\\"dir\\\":\\n                continue\\n            if not content.name.endswith(\\\".py\\\"):\\n                continue\\n            if files_read >= max_files:\\n                logger.info(f\\\"Reached maximum number of files ({max_files}). Skipping remaining files.\\\")\\n                break\\n\\n            file_path = content.path\\n            file_content = self.get_file_content(file_path, max_lines=max_lines_per_file)  # Use the get_file_content method with line limit\\n\\n            if file_content:\\n                context[file_path] = file_content\\n                files_read += 1\\n\\n        return context\\n\"\n  }\n]",
  "model": "gemini-2.0-flash"
}