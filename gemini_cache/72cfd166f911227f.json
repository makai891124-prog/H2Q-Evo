{
  "timestamp": 1769072677.884539,
  "response": "[\n  {\n    \"file_path\": \"h2q_project/evolution_system.py\",\n    \"content\": \"import os\\nimport time\\nimport docker\\nimport logging\\n\\nlogger = logging.getLogger(__name__)\\n\\nclass EvolutionSystem:\\n    def __init__(self, docker_image, experiment_command, max_memory_limit_mb=None):\\n        self.docker_image = docker_image\\n        self.experiment_command = experiment_command\\n        self.max_memory_limit_mb = max_memory_limit_mb  # Optional memory limit\\n        self.client = docker.from_env()\\n\\n    def run_experiment(self):  # Corrected indentation\\n        container = None\\n        try:\\n            mem_limit = f'{self.max_memory_limit_mb}m' if self.max_memory_limit_mb else None\\n\\n            container = self.client.containers.run(\\n                self.docker_image,\\n                self.experiment_command,\\n                detach=True,\\n                mem_limit=mem_limit\\n            )\\n\\n            while True:\\n                container.reload()\\n                if container.status == 'exited':\\n                    break\\n\\n                if self.max_memory_limit_mb:\\n                    stats = container.stats(stream=False)\\n                    memory_usage_bytes = stats['memory_stats']['usage']\\n                    memory_limit_bytes = stats['memory_stats']['limit']\\n\\n                    memory_usage_mb = memory_usage_bytes / (1024 * 1024)\\n                    memory_limit_mb = memory_limit_bytes / (1024 * 1024)\\n\\n                    memory_usage_percentage = (memory_usage_mb / memory_limit_mb) * 100\\n\\n                    if memory_usage_percentage > 95:\\n                        logger.warning(f\\\"Memory usage approaching limit: {memory_usage_mb:.2f} MB / {memory_limit_mb:.2f} MB ({memory_usage_percentage:.2f}%) - Terminating container.\\\")\\n                        container.stop()\\n                        break # terminate the loop and proceed to cleanup\\n\\n\\n                time.sleep(1)\\n\\n            logs = container.logs().decode('utf-8')\\n            return logs\\n\\n        except docker.errors.ImageNotFound:\\n            logger.error(f\\\"Docker image not found: {self.docker_image}\\\")\\n            return None\\n        except Exception as e:\\n            logger.exception(f\\\"An error occurred during the experiment: {e}\\\")\\n            return None\\n        finally:\\n            if container:\\n                container.remove()\\n\"\n  }\n]",
  "model": "gemini-2.0-flash"
}