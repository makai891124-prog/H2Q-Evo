{
  "timestamp": 1769073411.9746711,
  "response": "[\n  {\n    \"file_path\": \"h2q_project/code_generator.py\",\n    \"content\": \"import os\\nimport subprocess\\n\\nclass CodeGenerator:\\n    def __init__(self, project_dir):\\n        self.project_dir = project_dir\\n\\n    def generate_code(self, module_name, code_content):\\n        module_path = os.path.join(self.project_dir, module_name + '.py')\\n        try:\\n            with open(module_path, 'w') as f:\\n                f.write(code_content)\\n            return module_path\\n        except Exception as e:\\n            print(f\\\"Error generating code for module {module_name}: {e}\\\")\\n            return None\\n\\n    def run_tests(self, module_name):\\n        test_file_path = os.path.join(self.project_dir, 'tests', f'test_{module_name}.py')\\n        if not os.path.exists(test_file_path):\\n            print(f\\\"Test file not found: {test_file_path}\\\")\\n            return False\\n\\n        try:\\n            # Use subprocess to run pytest\\n            result = subprocess.run(['pytest', test_file_path], cwd=self.project_dir, capture_output=True, text=True)\\n\\n            # Print the output from pytest\\n            print(result.stdout)\\n            print(result.stderr)\\n\\n            # Check the return code\\n            if result.returncode == 0:\\n                print(f\\\"Tests passed for module {module_name}\\\")\\n                return True\\n            else:\\n                print(f\\\"Tests failed for module {module_name}\\\")\\n                return False\\n        except Exception as e:\\n            print(f\\\"Error running tests for module {module_name}: {e}\\\")\\n            return False\\n\\n\\n\\nif __name__ == '__main__':\\n    # Example Usage (for demonstration/testing)\\n    project_directory = 'temp_project'\\n    if not os.path.exists(project_directory):\\n        os.makedirs(project_directory)\\n        os.makedirs(os.path.join(project_directory, 'tests'))\\n\\n    generator = CodeGenerator(project_directory)\\n\\n    # Example module creation\\n    module_name = 'example_module'\\n    module_code = '''\\ndef add(a, b):\\n    return a + b\\n'''\\n    module_path = generator.generate_code(module_name, module_code)\\n\\n    #Example test creation\\n    test_code = f'''\\nimport pytest\\nfrom {module_name} import add\\n\\ndef test_add():\\n    assert add(2, 3) == 5\\n    assert add(-1, 1) == 0\\n'''\\n\\n    test_file_path = os.path.join(project_directory, 'tests', f'test_{module_name}.py')\\n\\n    with open(test_file_path, 'w') as f:\\n        f.write(test_code)\\n\\n\\n    if module_path:\\n        tests_passed = generator.run_tests(module_name)\\n        if tests_passed:\\n            print(\\\"Code generation and tests completed successfully!\\\")\\n        else:\\n            print(\\\"Code generation successful, but tests failed.\\\")\\n    else:\\n        print(\\\"Code generation failed.\\\")\"\n  }\n]",
  "model": "gemini-2.0-flash"
}