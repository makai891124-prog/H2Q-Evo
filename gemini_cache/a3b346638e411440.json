{
  "timestamp": 1769072496.369746,
  "response": "[\n  {\n    \"file_path\": \"h2q_project/evolution_system.py\",\n    \"content\": \"import os\\nimport openai\\nfrom dotenv import load_dotenv\\n\\nload_dotenv()\\n\\nclass EvolutionSystem:\\n    def __init__(self):\\n        self.api_key = os.getenv(\\\"API_KEY\\\")\\n        if not self.api_key:\\n            raise ValueError(\\\"API_KEY not found in environment variables.\\\")\\n        try:\\n            openai.api_key = self.api_key\\n            # Validate the API key by making a simple API call\\n            openai.Model.list()\\n        except Exception as e:\\n            raise ValueError(f\\\"Invalid API_KEY: {e}\\\")\\n\\n        self.model = os.getenv(\\\"MODEL\\\", \\\"gpt-4\\\")\\n\\n    def generate_improved_code(self, task, code):\\n        prompt = f\\\"Improve the following code to better address the task:\\\\nTask: {task}\\\\nCode: {code}\\\\nImproved Code:\\\"\\n        try:\\n            response = openai.Completion.create(\\n                engine=self.model,\\n                prompt=prompt,\\n                max_tokens=150,\\n                n=1,\\n                stop=None,\\n                temperature=0.7,\\n            )\\n            return response.choices[0].text.strip()\\n        except Exception as e:\\n            print(f\\\"Error during code generation: {e}\\\")\\n            return None\\n\\nif __name__ == '__main__':\\n    # Example Usage (for testing purposes)\\n    evolution_system = EvolutionSystem()\\n    task = \\\"Fix the bug where the function returns incorrect results.\\\"\\n    code = \\\"def add(a, b):\\\\n  return a - b\\\"\\n    improved_code = evolution_system.generate_improved_code(task, code)\\n    if improved_code:\\n        print(\\\"Original Code:\\\\n\\\", code)\\n        print(\\\"\\\\nImproved Code:\\\\n\\\", improved_code)\\n\"\n  }\n]",
  "model": "gemini-2.0-flash"
}