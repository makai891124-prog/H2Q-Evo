{
  "timestamp": 1769076308.370568,
  "response": "[\n  {\n    \"file_path\": \"h2q_project/evolution_system.py\",\n    \"content\": \"import os\\nimport re\\nfrom typing import List, Dict\\n\\nfrom h2q_project.file_loader import FileLoader\\nfrom h2q_project.project_analyzer import ProjectAnalyzer\\n\\nclass EvolutionSystem:\\n    def __init__(self, project_dir: str, file_loader: FileLoader, project_analyzer: ProjectAnalyzer):\\n        self.project_dir = project_dir\\n        self.file_loader = file_loader\\n        self.project_analyzer = project_analyzer\\n\\n    def get_relevant_context(self, task_description: str, changed_files: List[str], max_files: int = 5) -> List[Dict[str, str]]:\\n        \\\"\\\"\\\"Fetches relevant context files based on the task description and changed files.\\n\\n        Args:\\n            task_description: The description of the task being performed.\\n            changed_files: A list of files that have been changed.\\n            max_files: Maximum number of files to return.\\n\\n        Returns:\\n            A list of dictionaries, where each dictionary contains the file path and content.\\n        \\\"\\\"\\\"\\n        # Prioritize changed files and limit the number of files to avoid exceeding token limits\\n        context_files = []\\n        added_files = []\\n\\n        for file_path in changed_files:\\n            full_path = os.path.join(self.project_dir, file_path)\\n            if os.path.exists(full_path):\\n                try:\\n                    content = self.file_loader.load_file(full_path)\\n                    context_files.append({\\\"file_path\\\": file_path, \\\"content\\\": content})\\n                    added_files.append(file_path)\\n                except Exception as e:\\n                    print(f\\\"Error loading file {file_path}: {e}\\\")\\n\\n        #If the number of files is less than max files, add the most important files to the context\\n        if len(context_files) < max_files:\\n             important_files = self.project_analyzer.find_important_files(task_description, max_files - len(context_files), exclude_files=added_files) # Exclude already added files\\n             for file_path in important_files:\\n                 full_path = os.path.join(self.project_dir, file_path)\\n                 if os.path.exists(full_path):\\n                    try:\\n                        content = self.file_loader.load_file(full_path)\\n                        context_files.append({\\\"file_path\\\": file_path, \\\"content\\\": content})\\n                    except Exception as e:\\n                        print(f\\\"Error loading file {file_path}: {e}\\\")\\n\\n\\n        return context_files\\n\"\n  }\n]",
  "model": "gemini-2.0-flash"
}