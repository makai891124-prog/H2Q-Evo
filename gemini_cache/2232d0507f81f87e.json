{
  "timestamp": 1769071256.985388,
  "response": "[\n  {\n    \"file_path\": \"h2q_project/visualization/quaternion_visualizer.py\",\n    \"content\": \"import numpy as np\\nimport matplotlib.pyplot as plt\\nfrom mpl_toolkits.mplot3d import Axes3D\\nfrom scipy.spatial.transform import Rotation as R\\n\\n\\ndef visualize_quaternion(quaternion, vector=[1, 0, 0]):\\n    \\\"\\\"\\\"Visualizes the effect of a quaternion rotation on a 3D vector.\\n\\n    Args:\\n        quaternion (list or np.ndarray): A quaternion in the form [x, y, z, w].\\n        vector (list or np.ndarray): The vector to be rotated, defaults to [1, 0, 0].\\n    \\\"\\\"\\\"\\n    quaternion = np.array(quaternion)\\n    vector = np.array(vector)\\n\\n    # Convert quaternion to rotation matrix\\n    rotation = R.from_quat(quaternion)\\n    rotation_matrix = rotation.as_matrix()\\n\\n    # Rotate the vector\\n    rotated_vector = rotation.apply(vector)\\n\\n    # Create the figure and axes\\n    fig = plt.figure(figsize=(8, 8))\\n    ax = fig.add_subplot(111, projection='3d')\\n\\n    # Plot the original vector\\n    ax.quiver(0, 0, 0, vector[0], vector[1], vector[2], color='r', label='Original Vector')\\n\\n    # Plot the rotated vector\\n    ax.quiver(0, 0, 0, rotated_vector[0], rotated_vector[1], rotated_vector[2], color='b', label='Rotated Vector')\\n\\n    # Set the axis limits\\n    max_val = max(np.max(np.abs(vector)), np.max(np.abs(rotated_vector)))\\n    ax.set_xlim([-max_val, max_val])\\n    ax.set_ylim([-max_val, max_val])\\n    ax.set_zlim([-max_val, max_val])\\n\\n    # Add labels and title\\n    ax.set_xlabel('X')\\n    ax.set_ylabel('Y')\\n    ax.set_zlabel('Z')\\n    ax.set_title('Quaternion Rotation Visualization')\\n\\n    # Add legend\\n    ax.legend()\\n\\n    # Show the plot\\n    plt.show()\\n\\n\\nif __name__ == '__main__':\\n    # Example usage\\n    quaternion = [0, 0, np.sin(np.pi/4), np.cos(np.pi/4)]  # Rotate 90 degrees around Z axis\\n    visualize_quaternion(quaternion)\\n\"\n  }\n]",
  "model": "gemini-2.0-flash"
}