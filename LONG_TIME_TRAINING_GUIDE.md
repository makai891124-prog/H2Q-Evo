# H2Q-Evo 4å°æ—¶é•¿æ—¶é—´è®­ç»ƒç³»ç»Ÿ - ä½¿ç”¨æŒ‡å—

**åˆ›å»ºæ—¥æœŸ**: 2026-01-20  
**ç³»ç»Ÿç‰ˆæœ¬**: v2.2.0 å¢å¼ºç‰ˆ  
**è®­ç»ƒæ¨¡å¼**: é•¿æ—¶é—´ç›‘æ§è®­ç»ƒ  

---

## ğŸ“‹ æ¦‚è¿°

H2Q-Evo 4å°æ—¶é•¿æ—¶é—´è®­ç»ƒç³»ç»Ÿæ˜¯ä¸ºæŒç»­æ”¹è¿›æœ¬åœ°å¤§æ¨¡å‹è€Œè®¾è®¡çš„ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

- âœ… **å®æ—¶ç›‘æ§**: æ¯æ¬¡è¿­ä»£å®æ—¶è®°å½•æ€§èƒ½æ•°æ®
- âœ… **åŠ¨æ€è¿½è¸ª**: æ”¶é›†å®Œæ•´çš„è¿›åŒ–è¶‹åŠ¿æ•°æ®
- âœ… **çµæ´»é…ç½®**: æ”¯æŒè‡ªå®šä¹‰è®­ç»ƒæ—¶é•¿ï¼ˆ1-24å°æ—¶ï¼‰
- âœ… **æ•°æ®æŒä¹…åŒ–**: æ‰€æœ‰è®­ç»ƒæ•°æ®è‡ªåŠ¨ä¿å­˜ç”¨äºåˆ†æ
- âœ… **è¶‹åŠ¿åˆ†æ**: è‡ªåŠ¨ç”Ÿæˆè¿›åŒ–åˆ†ææŠ¥å‘Š

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼1: è¿è¡Œ30åˆ†é’Ÿæ¼”ç¤ºç‰ˆæœ¬ (æ¨èå­¦ä¹ )

```bash
cd /Users/imymm/H2Q-Evo
python3 h2q_project/train_demo_30min.py
```

**ç‰¹ç‚¹**:
- è¿è¡Œ30åˆ†é’Ÿï¼Œæ¼”ç¤ºå®Œæ•´åŠŸèƒ½
- ç”Ÿæˆå®Œæ•´çš„è¿›åŒ–æ•°æ®æ–‡ä»¶
- é€‚åˆç†è§£ç³»ç»Ÿå·¥ä½œåŸç†

### æ–¹å¼2: è¿è¡Œå®Œæ•´4å°æ—¶è®­ç»ƒ

ç¼–è¾‘ `h2q_project/train_demo_30min.py`ï¼Œä¿®æ”¹ç¬¬ä¸€è¡Œå‚æ•°ï¼š

```python
# æ”¹ä¸º
DEMO_DURATION_MINUTES = 240  # 4å°æ—¶ = 240åˆ†é’Ÿ
```

ç„¶åè¿è¡Œï¼š

```bash
cd /Users/imymm/H2Q-Evo
python3 h2q_project/train_demo_30min.py
```

### æ–¹å¼3: åå°è¿è¡Œå¹¶ç›‘æ§è¿›åº¦

```bash
# å¯åŠ¨åå°è®­ç»ƒ (4å°æ—¶)
cd /Users/imymm/H2Q-Evo
nohup python3 h2q_project/train_demo_30min.py > training.log 2>&1 &

# æŸ¥çœ‹å®æ—¶è¿›åº¦
tail -f training.log

# æŸ¥çœ‹è¿›ç¨‹
ps aux | grep train_demo_30min.py
```

---

## ğŸ“Š è®­ç»ƒè¿‡ç¨‹è¯¦è§£

### ç¬¬ä¸€é˜¶æ®µ: æ•°æ®å‡†å¤‡ (è‡ªåŠ¨)
- âœ“ åŠ è½½è®­ç»ƒæ•°æ®é›†
- âœ“ åˆå§‹åŒ–è®­ç»ƒç¯å¢ƒ
- âœ“ åˆ›å»ºè¾“å‡ºç›®å½•

### ç¬¬äºŒé˜¶æ®µ: è¿­ä»£è®­ç»ƒ (é•¿æ—¶é—´è¿è¡Œ)
- æ¯æ¬¡è¿­ä»£:
  - ä»æ•°æ®é›†ä¸­é€‰æ‹©æ ·æœ¬
  - è¯„ä¼°æ–‡æœ¬è´¨é‡
  - è®°å½•æ€§èƒ½æ•°æ®
  - æ˜¾ç¤ºå®æ—¶è¿›åº¦

### ç¬¬ä¸‰é˜¶æ®µ: æ•°æ®æ”¶é›† (è‡ªåŠ¨)
- æ”¶é›†æ‰€æœ‰è¿­ä»£çš„æ€§èƒ½æŒ‡æ ‡
- è®¡ç®—è¿›åŒ–è¶‹åŠ¿
- ç”Ÿæˆç»Ÿè®¡æŠ¥å‘Š

### ç¬¬å››é˜¶æ®µ: ç»“æœä¿å­˜ (è‡ªåŠ¨)
- ä¿å­˜å®Œæ•´çš„è¿›åŒ–æ•°æ® (JSON)
- ç”Ÿæˆè®­ç»ƒæŠ¥å‘Š (Markdown)
- è¾“å‡ºæœ€ç»ˆç»Ÿè®¡

---

## ğŸ“ è¾“å‡ºæ–‡ä»¶

è®­ç»ƒå®Œæˆåï¼Œåœ¨ `h2q_project/training_output/` ç›®å½•ä¸­ä¼šç”Ÿæˆï¼š

### 1. è¿›åŒ–æ•°æ®æ–‡ä»¶
```
evolution_<SESSION_ID>.json
```

åŒ…å«å†…å®¹:
- å®Œæ•´çš„è¿­ä»£æ•°æ®
- æ‰€æœ‰æ€§èƒ½æŒ‡æ ‡
- è®­ç»ƒæ‘˜è¦
- æ—¶é—´æˆ³ä¿¡æ¯

**ç¤ºä¾‹**:
```json
{
  "session_id": "20260120_112532",
  "start_time": "2026-01-20T11:25:32",
  "iterations": [
    {
      "iter": 1,
      "time": 0.01,
      "score": 0.75
    },
    ...
  ],
  "summary": {
    "total_iterations": 10000,
    "time_seconds": 14400,
    "initial_score": 0.50,
    "final_score": 0.82,
    "improvement": 0.32,
    "avg_score": 0.68
  }
}
```

### 2. è®­ç»ƒæŠ¥å‘Š
```
training_report_<SESSION_ID>.md
```

åŒ…å«å†…å®¹:
- ä¼šè¯ä¿¡æ¯
- æ€§èƒ½ç»Ÿè®¡
- å…³é”®æ´å¯Ÿ
- ä¸‹ä¸€æ­¥å»ºè®®

---

## ğŸ“ˆ ç›‘æ§å’Œåˆ†æ

### å®æ—¶ç›‘æ§è¿›åº¦

```bash
# æŸ¥çœ‹æœ€æ–°çš„è®­ç»ƒæ—¥å¿—
tail -20 h2q_project/training_progress.log

# æ˜¾ç¤ºæ¯æ¬¡è¿­ä»£çš„è¿›åº¦ (æ¯ç§’æ›´æ–°)
watch -n 1 'tail -20 h2q_project/training_progress.log'
```

### åˆ†æè¿›åŒ–è¶‹åŠ¿

è®­ç»ƒå®Œæˆåï¼Œä½¿ç”¨åˆ†æå·¥å…·ï¼š

```bash
python3 h2q_project/analyze_evolution.py \
  h2q_project/training_output/evolution_<SESSION_ID>.json
```

è¾“å‡ºåŒ…æ‹¬:
- æ€§èƒ½æ¼”è¿›åˆ†æ
- å„ç»´åº¦çš„æ”¹è¿›æƒ…å†µ
- ç“¶é¢ˆé¢†åŸŸè¯†åˆ«
- ä¸‹ä¸€æ­¥è®­ç»ƒå»ºè®®

---

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹è®­ç»ƒæ—¶é•¿

ç¼–è¾‘ `train_demo_30min.py`:

```python
# åŸå§‹è®¾ç½®
DEMO_DURATION_MINUTES = 30

# æ”¹ä¸ºå…¶ä»–å€¼
DEMO_DURATION_MINUTES = 240   # 4å°æ—¶
DEMO_DURATION_MINUTES = 120   # 2å°æ—¶
DEMO_DURATION_MINUTES = 60    # 1å°æ—¶
```

### è°ƒæ•´è¯„ä¼°é—´éš”

```python
# æ¯ N æ¬¡è¿­ä»£è¾“å‡ºä¸€æ¬¡è¿›åº¦
if iteration_count % 10 == 0:  # æ”¹ä¸ºå…¶ä»–å€¼
    logger.info(...)
```

### è‡ªå®šä¹‰æ•°æ®è¯„ä¼°å‡½æ•°

```python
def evaluate_quality(text):
    """è‡ªå®šä¹‰è¯„ä¼°é€»è¾‘"""
    if not text:
        return 0.3
    
    score = 0.5
    # æ·»åŠ è‡ªå·±çš„è¯„ä¼°æŒ‡æ ‡
    score += custom_evaluation(text)
    return min(score, 1.0)
```

---

## ğŸ“Š æ•°æ®ä½¿ç”¨å’Œä¸‹ä¸€æ­¥è®­ç»ƒ

### ä½¿ç”¨è¿›åŒ–æ•°æ®

è¿›åŒ–æ•°æ®å¯ç”¨äº:

1. **æ€§èƒ½åŸºå‡†**: 
   - ä½œä¸ºä¸‹ä¸€æ¬¡è®­ç»ƒçš„å¯¹æ¯”åŸºå‡†
   - è¿½è¸ªé•¿æœŸæ€§èƒ½è¶‹åŠ¿

2. **å‚æ•°ä¼˜åŒ–**:
   - åˆ†æå“ªäº›å‚æ•°æ•ˆæœæœ€å¥½
   - è°ƒæ•´å­¦ä¹ ç­–ç•¥

3. **ç“¶é¢ˆè¯†åˆ«**:
   - æ‰¾å‡ºæ€§èƒ½ç“¶é¢ˆ
   - é’ˆå¯¹æ€§æ”¹è¿›

### ä¸ºä¸‹ä¸€æ¬¡è®­ç»ƒå‡†å¤‡

```bash
# 1. æŸ¥çœ‹ä¸Šä¸€æ¬¡çš„è¿›åŒ–æ•°æ®
cat h2q_project/training_output/evolution_*.json | python3 -m json.tool | head -50

# 2. è¿è¡Œåˆ†æ
python3 h2q_project/analyze_evolution.py h2q_project/training_output/evolution_*.json

# 3. æ ¹æ®å»ºè®®è°ƒæ•´å‚æ•°
# (ç¼–è¾‘è„šæœ¬ä¸­çš„å‚æ•°)

# 4. å¯åŠ¨æ–°ä¸€è½®è®­ç»ƒ
python3 h2q_project/train_demo_30min.py
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å®šæœŸè®­ç»ƒ

å»ºè®®æ¯å‘¨è¿›è¡Œä¸€æ¬¡4å°æ—¶çš„é•¿æ—¶é—´è®­ç»ƒï¼Œä»¥æŒç»­æ”¹è¿›æ€§èƒ½ã€‚

### 2. ä¿å­˜å†å²æ•°æ®

```bash
# å¤‡ä»½è®­ç»ƒæ•°æ®
cp -r h2q_project/training_output h2q_project/training_output.backup_$(date +%Y%m%d)
```

### 3. è¿½è¸ªæ€§èƒ½å˜åŒ–

```bash
# åˆ›å»ºæ€§èƒ½è¿½è¸ªæ–‡ä»¶
echo "$(date): $(jq '.summary.final_score' h2q_project/training_output/evolution_*.json)" \
  >> performance_history.txt
```

### 4. è‡ªåŠ¨åŒ–è®­ç»ƒ

```bash
#!/bin/bash
# æ¯å¤©æ™šä¸Šè‡ªåŠ¨è¿è¡Œè®­ç»ƒ
0 22 * * * cd /Users/imymm/H2Q-Evo && python3 h2q_project/train_demo_30min.py
```

---

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜1: è®­ç»ƒå¾ˆæ…¢

**åŸå› **: å¯èƒ½ç³»ç»Ÿè´Ÿè½½é«˜æˆ–å­˜å‚¨ç“¶é¢ˆ

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ç³»ç»Ÿè´Ÿè½½
top -l 1 | head -20

# æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h

# å‡å°‘æ—¥å¿—è¾“å‡º (ç¼–è¾‘è„šæœ¬ä¸­çš„è¾“å‡ºé—´éš”)
if iteration_count % 50 == 0:  # ä» 10 æ”¹ä¸º 50
```

### é—®é¢˜2: è¿›ç¨‹è¢«ä¸­æ–­

**åŸå› **: ç³»ç»Ÿä¼‘çœ æˆ–ç½‘ç»œé—®é¢˜

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ä½¿ç”¨ screen æˆ– tmux ä¿æŒä¼šè¯æ´»è·ƒ
screen
cd /Users/imymm/H2Q-Evo
python3 h2q_project/train_demo_30min.py

# ç¦»å¼€ä¼šè¯: Ctrl-A, ç„¶å D
# è¿”å›ä¼šè¯: screen -r
```

### é—®é¢˜3: å†…å­˜ä¸è¶³

**åŸå› **: è®­ç»ƒæ•°æ®è¿‡å¤§æˆ–è¿­ä»£å¤ªå¤š

**è§£å†³æ–¹æ¡ˆ**:
```bash
# å‡å°‘æ•°æ®é›†å¤§å°
# ç¼–è¾‘ prepare_data() å‡½æ•°,å‡å°‘æ‰©å±•æ•°æ®é‡

# æˆ–å‡å°‘è®­ç»ƒæ—¶é•¿
DEMO_DURATION_MINUTES = 60  # æ”¹ä¸º1å°æ—¶
```

---

## ğŸ”„ å®Œæ•´å·¥ä½œæµç¨‹ç¤ºä¾‹

```bash
# 1. å¯åŠ¨4å°æ—¶è®­ç»ƒ
cd /Users/imymm/H2Q-Evo
python3 h2q_project/train_demo_30min.py &
TRAINING_PID=$!

# 2. ç›‘æ§è¿›åº¦ (åœ¨å¦ä¸€ä¸ªç»ˆç«¯)
watch -n 10 'tail -5 h2q_project/training_progress.log'

# 3. ç­‰å¾…è®­ç»ƒå®Œæˆ
wait $TRAINING_PID

# 4. åˆ†æç»“æœ
LATEST_JSON=$(ls -t h2q_project/training_output/evolution_*.json | head -1)
python3 h2q_project/analyze_evolution.py "$LATEST_JSON"

# 5. æŸ¥çœ‹æŠ¥å‘Š
LATEST_REPORT=$(ls -t h2q_project/training_output/training_report_*.md | head -1)
cat "$LATEST_REPORT"

# 6. ä¿å­˜æ€§èƒ½æ•°æ®
cp "$LATEST_JSON" h2q_project/training_output/archive/evolution_$(date +%Y%m%d_%H%M%S).json
```

---

## ğŸ“ æ”¯æŒå’Œåé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·ï¼š

1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶: `h2q_project/training_progress.log`
2. æ£€æŸ¥è¾“å‡ºæ•°æ®: `h2q_project/training_output/`
3. è¿è¡Œåˆ†æå·¥å…·: `h2q_project/analyze_evolution.py`
4. æäº¤ Issue åˆ° GitHub

---

## ğŸ“ é™„å½•

### å…³é”®æ¦‚å¿µ

- **ä¼šè¯ID**: æ¯æ¬¡è®­ç»ƒçš„å”¯ä¸€æ ‡è¯†ç¬¦
- **è¿­ä»£**: å•æ¬¡è¯„ä¼°å¾ªç¯
- **æ€§èƒ½è¯„åˆ†**: æ–‡æœ¬è´¨é‡çš„æ•°å€¼è¡¨ç¤º (0-1)
- **è¿›åŒ–è¶‹åŠ¿**: æ€§èƒ½éšæ—¶é—´çš„å˜åŒ–æ›²çº¿

### ç›¸å…³æ–‡ä»¶

- `train_demo_30min.py` - æ¼”ç¤ºç‰ˆè®­ç»ƒè„šæœ¬
- `analyze_evolution.py` - è¿›åŒ–è¶‹åŠ¿åˆ†æå·¥å…·
- `h2q_project/training_output/` - è®­ç»ƒç»“æœå­˜å‚¨ç›®å½•

### å‚è€ƒèµ„æº

- [H2Q-Evo æ–‡æ¡£](LOCAL_MODEL_ADVANCED_TRAINING_QUICK_START.md)
- [å‘å¸ƒè¯´æ˜](RELEASE_NOTES_V2.2.0.md)
- [éƒ¨ç½²æŒ‡å—](H2Q_LOCAL_MODEL_TRAINING_DEPLOYMENT_REPORT.md)

---

**ç‰ˆæœ¬**: v2.2.0  
**æœ€åæ›´æ–°**: 2026-01-20  
**ç»´æŠ¤è€…**: H2Q-Evo Team
